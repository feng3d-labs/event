<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@feng3d/event</title>
	<meta name="description" content="Documentation for @feng3d/event">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@feng3d/event</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@feng3d/event</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#event" id="event" style="color: inherit; text-decoration: none;">
					<h1>Event</h1>
				</a>
				<a href="#事件系统" id="事件系统" style="color: inherit; text-decoration: none;">
					<h2>事件系统</h2>
				</a>
				<p>相信大多数程序员都知道事件这东西，比如鼠标点击事件、文件更改事件等等。同样也相信大家能够轻松愉快的写出一个不错的事件系统。但是还是希望能够把feng3d中这个优秀的事件系统介绍给大家。</p>
				<a href="#feng3devent-fevent" id="feng3devent-fevent" style="color: inherit; text-decoration: none;">
					<h2>feng3d.event: FEvent</h2>
				</a>
				<a href="#在任意对象上派发任意事件" id="在任意对象上派发任意事件" style="color: inherit; text-decoration: none;">
					<h3>在任意对象上派发任意事件</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">//</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">n</span><span style="color: #000000"> = </span><span style="color: #098658">1</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">s</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">o</span><span style="color: #000000"> = {};</span>
<span style="color: #000000">    </span><span style="color: #008000">// 监听任意对象的任意事件</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">n</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;n&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;n&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">s</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;s&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;s&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">o</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;o&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;o&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #008000">// 派发事件</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">n</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;n&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">s</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;s&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">o</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;o&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// 监听回调被正常调用</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;nso&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#监听回调上下文" id="监听回调上下文" style="color: inherit; text-decoration: none;">
					<h3>监听回调上下文</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 使用obj作为监听回调上下文</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">obj</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #795E26">fn</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">any</span><span style="color: #000000">&gt;) { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #001080">type</span><span style="color: #000000"> + </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080">v</span><span style="color: #000000">; } };</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">obj</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;click&quot;</span><span style="color: #000000">, </span><span style="color: #001080">obj</span><span style="color: #000000">.</span><span style="color: #001080">fn</span><span style="color: #000000">, </span><span style="color: #001080">obj</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// 重复监听一次派发事件仅会被调用一次</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">obj</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;click&quot;</span><span style="color: #000000">, </span><span style="color: #001080">obj</span><span style="color: #000000">.</span><span style="color: #001080">fn</span><span style="color: #000000">, </span><span style="color: #001080">obj</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">obj</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;click&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;click1&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#监听器优先级" id="监听器优先级" style="color: inherit; text-decoration: none;">
					<h3>监听器优先级</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 相同事件类似的监听器优先级越高越优先被调用</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;pevent&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;p1&quot;</span><span style="color: #000000"> }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #098658">1</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;pevent&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;p0&quot;</span><span style="color: #000000"> }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #098658">0</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;pevent&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;p2&quot;</span><span style="color: #000000"> }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #098658">2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;pevent&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;p2p1p0&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#批量移除监听" id="批量移除监听" style="color: inherit; text-decoration: none;">
					<h3>批量移除监听</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #795E26">fn</span><span style="color: #000000"> = () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #795E26">fn2</span><span style="color: #000000"> = () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;2&quot;</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">, </span><span style="color: #001080">fn</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">, </span><span style="color: #001080">fn2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// off缺省监听回调时移除指定事件类型所有监听。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">off</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(!</span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">has</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<pre><code><span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #795E26">fn</span><span style="color: #000000"> = () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #795E26">fn2</span><span style="color: #000000"> = () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;2&quot;</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">, </span><span style="color: #001080">fn</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;d&quot;</span><span style="color: #000000">, </span><span style="color: #001080">fn2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">onAny</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">fn2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// off 缺省 事件类型时将会移除指定对象上所有事件监听。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">off</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;d&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(!</span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">has</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(!</span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">has</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;d&quot;</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#任意事件监听" id="任意事件监听" style="color: inherit; text-decoration: none;">
					<h3>任意事件监听</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #795E26">fn</span><span style="color: #000000"> = (</span><span style="color: #001080">e</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">any</span><span style="color: #000000">&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">type</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #008000">// 新增一个对象的任意事件监听器。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">onAny</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">fn</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #008000">// 配发多个不同事件后均被触发监听器。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;abc&quot;</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #008000">// 移除后并不会再次被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">offAny</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">fn</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;abc&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#事件冒泡" id="事件冒泡" style="color: inherit; text-decoration: none;">
					<h3>事件冒泡</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #008000">// dispatch 携带数据 冒泡</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">data</span><span style="color: #000000"> = { </span><span style="color: #001080">d:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">any</span><span style="color: #000000">&gt; = </span><span style="color: #0000FF">null</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">parent</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">child</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">parent:</span><span style="color: #000000"> </span><span style="color: #001080">parent</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">parent</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #001080">e</span><span style="color: #000000">; })</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">, </span><span style="color: #001080">data</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000">.</span><span style="color: #001080">data</span><span style="color: #000000"> == </span><span style="color: #001080">data</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// 派发事件的对象</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000">.</span><span style="color: #001080">target</span><span style="color: #000000"> == </span><span style="color: #001080">child</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// 当前处理事件的对象</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000">.</span><span style="color: #001080">currentTarget</span><span style="color: #000000"> == </span><span style="color: #001080">parent</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">// 事件冒泡流向</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000">.</span><span style="color: #001080">targets</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">] == </span><span style="color: #001080">child</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000">.</span><span style="color: #001080">targets</span><span style="color: #000000">[</span><span style="color: #098658">1</span><span style="color: #000000">] == </span><span style="color: #001080">parent</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#停止事件的冒泡" id="停止事件的冒泡" style="color: inherit; text-decoration: none;">
					<h3>停止事件的冒泡</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #008000">// 处理停止事件的冒泡</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">parent</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">child</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">parent:</span><span style="color: #000000"> </span><span style="color: #001080">parent</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">outstr</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b1&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">isStopBubbles</span><span style="color: #000000"> = </span><span style="color: #0000FF">true</span><span style="color: #000000">; }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, -</span><span style="color: #098658">1</span><span style="color: #000000">); </span><span style="color: #008000">// 新增优先级较低的监听器，并停止冒泡行为。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b1&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">outstr</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;child0&quot;</span><span style="color: #000000">; }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #098658">0</span><span style="color: #000000">); </span><span style="color: #008000">// 该监听器将会被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b1&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">outstr</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;child-1&quot;</span><span style="color: #000000">; }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, -</span><span style="color: #098658">2</span><span style="color: #000000">); </span><span style="color: #008000">// 该监听器将会被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">parent</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b1&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">outstr</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;parent&quot;</span><span style="color: #000000">; }); </span><span style="color: #008000">// 冒泡被终止，该监听器不会被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b1&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">equal</span><span style="color: #000000">(</span><span style="color: #001080">outstr</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;child0child-1&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#停止事件流" id="停止事件流" style="color: inherit; text-decoration: none;">
					<h3>停止事件流</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #008000">// 处理停止事件</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">parent</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">child</span><span style="color: #000000"> = { </span><span style="color: #001080">v:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">parent:</span><span style="color: #000000"> </span><span style="color: #001080">parent</span><span style="color: #000000"> };</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">outstr</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b2&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">isStop</span><span style="color: #000000"> = </span><span style="color: #0000FF">true</span><span style="color: #000000">; }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, -</span><span style="color: #098658">1</span><span style="color: #000000">); </span><span style="color: #008000">// 新增优先级较低的监听器，并停止事件流。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b2&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">outstr</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;child0&quot;</span><span style="color: #000000">; }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #098658">0</span><span style="color: #000000">); </span><span style="color: #008000">// 该监听器将会被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b2&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">outstr</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;child-1&quot;</span><span style="color: #000000">; }, </span><span style="color: #0000FF">null</span><span style="color: #000000">, -</span><span style="color: #098658">2</span><span style="color: #000000">); </span><span style="color: #008000">// 事件被终止，该监听器优先级较低将不会被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">parent</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b2&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">outstr</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;parent&quot;</span><span style="color: #000000">; }); </span><span style="color: #008000">// 事件被终止，该监听器不会被触发。</span>
<span style="color: #000000">    </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b2&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">null</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">equal</span><span style="color: #000000">(</span><span style="color: #001080">outstr</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;child0&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#事件名称提示" id="事件名称提示" style="color: inherit; text-decoration: none;">
					<h3>事件名称提示</h3>
				</a>
				<pre><code><span style="color: #000000">    </span><span style="color: #008000">// 针对number分配事件类型，在使用 on 等接口是会有自动提示。</span>
<span style="color: #000000">    </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">NType</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000">: </span><span style="color: #267F99">undefined</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">a</span><span style="color: #000000">: { </span><span style="color: #001080">b</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> };</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">nevent</span><span style="color: #000000">: </span><span style="color: #267F99">ObjectEventDispatcher</span><span style="color: #000000">&lt;</span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #267F99">NType</span><span style="color: #000000">&gt; = &lt;</span><span style="color: #267F99">any</span><span style="color: #000000">&gt;</span><span style="color: #001080">event</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">n</span><span style="color: #000000"> = </span><span style="color: #098658">1</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">nevent</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">n</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #001080">nevent</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">n</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">nevent</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #001080">n</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #001080">nevent</span><span style="color: #000000">.</span><span style="color: #795E26">off</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">nevent</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #008000">// 针对Object扩展分配事件类型，在使用 on 等接口是会有自动提示。</span>
<span style="color: #000000">    </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">OType</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">NType</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;2&quot;</span><span style="color: #000000">: </span><span style="color: #267F99">null</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">b</span><span style="color: #000000">: { </span><span style="color: #001080">b</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> };</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">oevent</span><span style="color: #000000">: </span><span style="color: #267F99">ObjectEventDispatcher</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Object</span><span style="color: #000000">, </span><span style="color: #267F99">OType</span><span style="color: #000000">&gt; = &lt;</span><span style="color: #267F99">any</span><span style="color: #000000">&gt;</span><span style="color: #001080">event</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">o</span><span style="color: #000000"> = {};</span>
<span style="color: #000000">    </span><span style="color: #001080">oevent</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">o</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #001080">oevent</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">o</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;2&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #001080">oevent</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">o</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> });</span>
<span style="color: #000000">    </span><span style="color: #001080">oevent</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #001080">o</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;1&quot;</span><span style="color: #000000"> });</span>
</code></pre>
				<a href="#效果如下" id="效果如下" style="color: inherit; text-decoration: none;">
					<h4>效果如下</h4>
				</a>
				<p><img src="readme/event_tooltip1.png" alt=""></p>
				<p><img src="readme/event_tooltip2.png" alt=""></p>
				<a href="#feng3deventdispatcher" id="feng3deventdispatcher" style="color: inherit; text-decoration: none;">
					<h2>feng3d.EventDispatcher</h2>
				</a>
				<p>EventDispatcher 功能的实现几乎由 FEvent 实现，但提供了一个事件派发器的基类。</p>
				<pre><code>
<span style="color: #000000">    </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #001080">click</span><span style="color: #000000">: { </span><span style="color: #001080">x</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">y</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> };</span>
<span style="color: #000000">        </span><span style="color: #001080">mousedown</span><span style="color: #000000">: { </span><span style="color: #001080">x</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">y</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> };</span>
<span style="color: #000000">        </span><span style="color: #001080">mousemove</span><span style="color: #000000">: { </span><span style="color: #001080">x</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">y</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> };</span>
<span style="color: #000000">        </span><span style="color: #001080">mouseup</span><span style="color: #000000">: { </span><span style="color: #001080">x</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">y</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> };</span>
<span style="color: #000000">    }</span>

<span style="color: #000000">    </span><span style="color: #008000">// 这块代码很脏，希望能够简化这块代码的大佬不吝赐教！</span>
<span style="color: #000000">    </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObject</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #795E26">once</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #795E26">listener</span><span style="color: #000000">: (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">, </span><span style="color: #001080">thisObject</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">, </span><span style="color: #001080">priority</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">dispatch</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #001080">data</span><span style="color: #000000">?: </span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">], </span><span style="color: #001080">bubbles</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">): </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;;</span>
<span style="color: #000000">        </span><span style="color: #795E26">has</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">): </span><span style="color: #267F99">boolean</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">on</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #795E26">listener</span><span style="color: #000000">: (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">, </span><span style="color: #001080">thisObject</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">, </span><span style="color: #001080">priority</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">once</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">off</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">?: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #795E26">listener</span><span style="color: #000000">?: (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">DisplayObjectEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">, </span><span style="color: #001080">thisObject</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #008000">// 很希望能够使用下面代码，但是编译错误！</span>
<span style="color: #000000">    </span><span style="color: #008000">// interface DisplayObject extends IEventDispatcher&lt;DisplayObjectEventMap&gt; { }</span>

<span style="color: #000000">    </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObject</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">EventDispatcher</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #001080">parent</span><span style="color: #000000">: </span><span style="color: #267F99">Container</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>

<span style="color: #000000">    </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObjectEventMap</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #001080">addedChild</span><span style="color: #000000">: { </span><span style="color: #001080">parent</span><span style="color: #000000">: </span><span style="color: #267F99">Container</span><span style="color: #000000">, </span><span style="color: #001080">child</span><span style="color: #000000">: </span><span style="color: #267F99">DisplayObject</span><span style="color: #000000"> };</span>
<span style="color: #000000">    }</span>

<span style="color: #000000">    </span><span style="color: #008000">// 这块代码很脏，希望能够简化这块代码的大佬不吝赐教！</span>
<span style="color: #000000">    </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">Container</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #795E26">once</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #795E26">listener</span><span style="color: #000000">: (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">, </span><span style="color: #001080">thisObject</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">, </span><span style="color: #001080">priority</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">dispatch</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #001080">data</span><span style="color: #000000">?: </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">], </span><span style="color: #001080">bubbles</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">): </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;;</span>
<span style="color: #000000">        </span><span style="color: #795E26">has</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">): </span><span style="color: #267F99">boolean</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">on</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #795E26">listener</span><span style="color: #000000">: (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">, </span><span style="color: #001080">thisObject</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">, </span><span style="color: #001080">priority</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">once</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">off</span><span style="color: #000000">&lt;</span><span style="color: #267F99">K</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #0000FF">keyof</span><span style="color: #000000"> </span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">&gt;(</span><span style="color: #001080">type</span><span style="color: #000000">?: </span><span style="color: #267F99">K</span><span style="color: #000000">, </span><span style="color: #795E26">listener</span><span style="color: #000000">?: (</span><span style="color: #001080">event</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ContainerEventMap</span><span style="color: #000000">[</span><span style="color: #267F99">K</span><span style="color: #000000">]&gt;) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">, </span><span style="color: #001080">thisObject</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #008000">// 很希望能够使用下面代码，但是编译错误！</span>
<span style="color: #000000">    </span><span style="color: #008000">// interface Container extends IEventDispatcher&lt;ContainerEventMap&gt; { }</span>

<span style="color: #000000">    </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Container</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">DisplayObject</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">        </span><span style="color: #001080">children</span><span style="color: #000000">: </span><span style="color: #267F99">DisplayObject</span><span style="color: #000000">[] = [];</span>

<span style="color: #000000">        </span><span style="color: #795E26">addChild</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">: </span><span style="color: #267F99">DisplayObject</span><span style="color: #000000">)</span>
<span style="color: #000000">        {</span>
<span style="color: #000000">            </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080">children</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">);</span>
<span style="color: #000000">            </span><span style="color: #001080">child</span><span style="color: #000000">.</span><span style="color: #001080">parent</span><span style="color: #000000"> = </span><span style="color: #0000FF">this</span><span style="color: #000000">;</span>
<span style="color: #000000">            </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;addedChild&quot;</span><span style="color: #000000">, { </span><span style="color: #001080">parent:</span><span style="color: #000000"> </span><span style="color: #0000FF">this</span><span style="color: #000000">, </span><span style="color: #001080">child:</span><span style="color: #000000"> </span><span style="color: #001080">child</span><span style="color: #000000"> });</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">    }</span>

<span style="color: #000000">    </span><span style="color: #008000">//</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">displayObject</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">DisplayObject</span><span style="color: #000000">();</span>
<span style="color: #000000">    </span><span style="color: #008000">// 在使用 on 时提供不错的提示告知DisplayObject可以监听的所有事件列表。</span>
<span style="color: #000000">    </span><span style="color: #001080">displayObject</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;click&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;displayObjectclick&quot;</span><span style="color: #000000">; });</span>
<span style="color: #000000">    </span><span style="color: #001080">displayObject</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;mousedown&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;displayObjectmousedown&quot;</span><span style="color: #000000">; });</span>
<span style="color: #000000">    </span><span style="color: #001080">displayObject</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;mousemove&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;displayObjectmousemove&quot;</span><span style="color: #000000">; });</span>
<span style="color: #000000">    </span><span style="color: #001080">displayObject</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;mouseup&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;displayObjectmouseup&quot;</span><span style="color: #000000">; });</span>

<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">container</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Container</span><span style="color: #000000">();</span>
<span style="color: #000000">    </span><span style="color: #008000">// 在使用 on 时看见到Container以及基类DisplayObject所支持的事件列表。</span>
<span style="color: #000000">    </span><span style="color: #001080">container</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;click&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;containerclick&quot;</span><span style="color: #000000">; });</span>
<span style="color: #000000">    </span><span style="color: #001080">container</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;addedChild&quot;</span><span style="color: #000000">, (</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">out</span><span style="color: #000000"> += </span><span style="color: #A31515">&quot;containeraddedChild&quot;</span><span style="color: #000000">; });</span>

<span style="color: #000000">    </span><span style="color: #008000">// 新增子对象</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">container</span><span style="color: #000000">.</span><span style="color: #795E26">addChild</span><span style="color: #000000">(</span><span style="color: #001080">displayObject</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;containeraddedChild&quot;</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #008000">// 派发冒泡事件</span>
<span style="color: #000000">    </span><span style="color: #001080">out</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">displayObject</span><span style="color: #000000">.</span><span style="color: #795E26">dispatch</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;click&quot;</span><span style="color: #000000">, { </span><span style="color: #001080">x:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">y:</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> }, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">assert</span><span style="color: #000000">.</span><span style="color: #795E26">ok</span><span style="color: #000000">(</span><span style="color: #001080">out</span><span style="color: #000000"> == </span><span style="color: #A31515">&quot;displayObjectclickcontainerclick&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#源码" id="源码" style="color: inherit; text-decoration: none;">
					<h2>源码</h2>
				</a>
				<p><a href="https://gitee.com/feng3d/feng3d/blob/master/packages/events/src/FEvent.ts">https://gitee.com/feng3d/feng3d/blob/master/packages/events/src/FEvent.ts</a></p>
				<p><a href="https://gitee.com/feng3d/feng3d/blob/master/packages/events/src/EventDispatcher.ts">https://gitee.com/feng3d/feng3d/blob/master/packages/events/src/EventDispatcher.ts</a></p>
				<a href="#参考" id="参考" style="color: inherit; text-decoration: none;">
					<h2>参考</h2>
				</a>
				<a href="#threejs" id="threejs" style="color: inherit; text-decoration: none;">
					<h3>three.js</h3>
				</a>
				<p><a href="https://github.com/mrdoob/three.js/blob/dev/src/core/EventDispatcher.js">https://github.com/mrdoob/three.js/blob/dev/src/core/EventDispatcher.js</a></p>
				<a href="#playcanvas" id="playcanvas" style="color: inherit; text-decoration: none;">
					<h3>playcanvas</h3>
				</a>
				<p><a href="https://github.com/playcanvas/engine/blob/master/src/core/event-handler.js">https://github.com/playcanvas/engine/blob/master/src/core/event-handler.js</a></p>
				<a href="#babylonjs-感觉实现比较奇怪" id="babylonjs-感觉实现比较奇怪" style="color: inherit; text-decoration: none;">
					<h3>babylonjs 感觉实现比较奇怪</h3>
				</a>
				<p><a href="https://github.com/BabylonJS/Babylon.js/blob/master/src/Misc/observable.ts">https://github.com/BabylonJS/Babylon.js/blob/master/src/Misc/observable.ts</a></p>
				<a href="#pixijs" id="pixijs" style="color: inherit; text-decoration: none;">
					<h3>pixi.js</h3>
				</a>
				<p><a href="https://github.com/pixijs/pixi.js/blob/dev/types/events.d.ts">https://github.com/pixijs/pixi.js/blob/dev/types/events.d.ts</a>
				<a href="https://github.com/primus/eventemitter3/blob/master/index.d.ts">https://github.com/primus/eventemitter3/blob/master/index.d.ts</a></p>
				<a href="#adobe-flash" id="adobe-flash" style="color: inherit; text-decoration: none;">
					<h3>adobe flash</h3>
				</a>
				<p><a href="https://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/events/EventDispatcher.html">https://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/events/EventDispatcher.html</a></p>
				<a href="#比较" id="比较" style="color: inherit; text-decoration: none;">
					<h2>比较</h2>
				</a>
				<table>
					<thead>
						<tr>
							<th align="center">引擎事件系统</th>
							<th align="center">基础API</th>
							<th align="center">事件派发器基类</th>
							<th align="center">监听回调上下文</th>
							<th align="center">优先级</th>
							<th align="center">批量移除监听</th>
							<th align="center">事件冒泡</th>
							<th align="center">事件名称提示</th>
						</tr>
					</thead>
					<tbody><tr>
							<td align="center">feng3d</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
						</tr>
						<tr>
							<td align="center">three.js</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">×</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">×</td>
						</tr>
						<tr>
							<td align="center">playcanvas</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">×</td>
						</tr>
						<tr>
							<td align="center">babylonjs</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">×</td>
						</tr>
						<tr>
							<td align="center">pixi.js</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">×</td>
						</tr>
						<tr>
							<td align="center">adobe flash</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">√</td>
							<td align="center">×</td>
							<td align="center">√</td>
							<td align="center">√</td>
						</tr>
				</tbody></table>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/EventEmitter.html" class="tsd-kind-icon">Event<wbr>Emitter</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/ObjectEmitter.html" class="tsd-kind-icon">Object<wbr>Emitter</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/IEvent.html" class="tsd-kind-icon">IEvent</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#anyEmitter" class="tsd-kind-icon">any<wbr>Emitter</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>